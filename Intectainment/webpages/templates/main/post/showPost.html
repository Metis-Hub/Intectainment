{#
  URL: /showPost
#}

{% extends "defaultLayout.html" %}
{% block title %}Post{%endblock%}

{% block head %}
  {{super()}}
  <link rel="stylesheet" href="{{ url_for('static', filename='css/postStyle.css') }}">
  <script src="https://cdn.rawgit.com/showdownjs/showdown/1.9.0/dist/showdown.min.js"></script>
{% endblock %}

{% block content %}
  <p>Kanal: <a href="{{url_for('gui.channelView', channel=post.channel.name)}}"> {{post.channel.name}}</a> </p>
  <p>Bearbeiten: <a href="{{url_for('gui.postEdit', postid=post.id)}}">Bearbeiten</a></p>
  {%if user and user.permission >= user.PERMISSION.MODERATOR%}
    <form method="POST">
      <input type="submit" name="delete" value="LÃ¶schen"/>
    </form>
  {%endif%}
  <hr/>

  <div id="postConent">
{{post.getContent()}}
  </div>

  <script>
    var target = document.getElementById('postConent');
    converter = new showdown.Converter({tables: true, strikethrough: true, tasklists: true}),

    target.innerHTML = converter.makeHtml(target.innerHTML);
  </script>
{%endblock%}
